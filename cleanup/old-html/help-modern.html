<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACT Placemat - Help & Support</title>
    <link rel="stylesheet" href="modern-styles.css">
    <style>
        .help-layout {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: var(--space-6);
            height: calc(100vh - 140px);
        }

        .help-sidebar {
            background: var(--surface);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            overflow-y: auto;
        }

        .help-categories {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .help-category {
            margin-bottom: var(--space-4);
        }

        .help-category-title {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: var(--space-3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .help-category-icon {
            width: 16px;
            height: 16px;
            color: var(--primary);
        }

        .help-topics {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .help-topic-item {
            margin-bottom: var(--space-1);
        }

        .help-topic-link {
            display: block;
            padding: var(--space-2) var(--space-3);
            font-size: var(--text-sm);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--radius-md);
            transition: all var(--transition-fast);
        }

        .help-topic-link:hover {
            background: var(--surface-hover);
            color: var(--text-primary);
        }

        .help-topic-link.active {
            background: var(--primary-light);
            color: var(--primary);
            font-weight: var(--font-medium);
        }

        .help-content {
            background: var(--surface);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: var(--space-8);
            overflow-y: auto;
        }

        .help-header {
            margin-bottom: var(--space-8);
            padding-bottom: var(--space-6);
            border-bottom: 1px solid var(--gray-200);
        }

        .help-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--text-primary);
            margin: 0 0 var(--space-2) 0;
        }

        .help-subtitle {
            font-size: var(--text-lg);
            color: var(--text-secondary);
            margin: 0;
        }

        .help-section {
            margin-bottom: var(--space-8);
        }

        .help-section-title {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin: 0 0 var(--space-4) 0;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .help-section-content {
            color: var(--text-secondary);
            line-height: var(--leading-relaxed);
        }

        .help-section-content h3 {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin: var(--space-6) 0 var(--space-3) 0;
        }

        .help-section-content p {
            margin-bottom: var(--space-4);
        }

        .help-section-content ul,
        .help-section-content ol {
            margin-bottom: var(--space-4);
            padding-left: var(--space-6);
        }

        .help-section-content li {
            margin-bottom: var(--space-2);
        }

        .faq-item {
            background: var(--surface);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-4);
            overflow: hidden;
        }

        .faq-question {
            padding: var(--space-4);
            background: var(--background-secondary);
            font-weight: var(--font-medium);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all var(--transition-fast);
        }

        .faq-question:hover {
            background: var(--surface-hover);
        }

        .faq-answer {
            padding: var(--space-4);
            color: var(--text-secondary);
            line-height: var(--leading-relaxed);
            border-top: 1px solid var(--gray-200);
            display: none;
        }

        .faq-answer.open {
            display: block;
        }

        .faq-toggle {
            width: 20px;
            height: 20px;
            transition: transform var(--transition-fast);
        }

        .faq-item.open .faq-toggle {
            transform: rotate(180deg);
        }

        .contact-card {
            background: var(--primary-light);
            border: 1px solid var(--primary);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin: var(--space-6) 0;
        }

        .contact-title {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--primary);
            margin: 0 0 var(--space-3) 0;
        }

        .contact-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
        }

        .contact-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
        }

        .contact-method {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-3);
            background: var(--surface);
            border-radius: var(--radius-md);
            text-decoration: none;
            color: var(--text-primary);
            transition: all var(--transition-fast);
        }

        .contact-method:hover {
            background: var(--surface-hover);
            transform: translateY(-1px);
        }

        .contact-icon {
            width: 20px;
            height: 20px;
            color: var(--primary);
            flex-shrink: 0;
        }

        .search-help {
            width: 100%;
            padding: var(--space-3);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            margin-bottom: var(--space-6);
        }

        .search-help:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .breadcrumb-separator {
            color: var(--gray-400);
        }

        .step-list {
            counter-reset: step-counter;
        }

        .step-item {
            counter-increment: step-counter;
            background: var(--surface);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin-bottom: var(--space-4);
            position: relative;
            padding-left: var(--space-12);
        }

        .step-item::before {
            content: counter(step-counter);
            position: absolute;
            left: var(--space-4);
            top: var(--space-4);
            width: 24px;
            height: 24px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
        }

        .step-title {
            font-weight: var(--font-medium);
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .step-description {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .tip-box {
            background: var(--warning-light);
            border: 1px solid var(--warning);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            margin: var(--space-4) 0;
        }

        .tip-title {
            font-weight: var(--font-medium);
            color: var(--warning);
            margin-bottom: var(--space-2);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .tip-content {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="app-main">
            <header class="app-header">
                <h1 class="header-title">Help & Support</h1>
                <div class="header-actions">
                    <button class="btn btn-ghost btn-sm" onclick="printHelp()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z" clip-rule="evenodd"/>
                        </svg>
                        Print Guide
                    </button>
                    <button class="btn btn-primary btn-sm" onclick="contactSupport()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                        </svg>
                        Contact Support
                    </button>
                </div>
            </header>

            <main class="app-content">
                <div class="help-layout">
                    <!-- Help Sidebar -->
                    <div class="help-sidebar">
                        <input type="text" class="search-help" placeholder="Search help topics..." id="help-search">
                        
                        <nav class="help-categories">
                            <div class="help-category">
                                <div class="help-category-title">
                                    <svg class="help-category-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    Getting Started
                                </div>
                                <ul class="help-topics">
                                    <li class="help-topic-item">
                                        <a href="#overview" class="help-topic-link active" data-topic="overview">Platform Overview</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#first-login" class="help-topic-link" data-topic="first-login">First Time Login</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#navigation" class="help-topic-link" data-topic="navigation">Navigation Guide</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="help-category">
                                <div class="help-category-title">
                                    <svg class="help-category-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    Project Management
                                </div>
                                <ul class="help-topics">
                                    <li class="help-topic-item">
                                        <a href="#creating-projects" class="help-topic-link" data-topic="creating-projects">Creating Projects</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#project-status" class="help-topic-link" data-topic="project-status">Project Status</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#revenue-tracking" class="help-topic-link" data-topic="revenue-tracking">Revenue Tracking</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="help-category">
                                <div class="help-category-title">
                                    <svg class="help-category-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                    </svg>
                                    Stories & Impact
                                </div>
                                <ul class="help-topics">
                                    <li class="help-topic-item">
                                        <a href="#story-collection" class="help-topic-link" data-topic="story-collection">Story Collection</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#impact-measurement" class="help-topic-link" data-topic="impact-measurement">Impact Measurement</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#community-engagement" class="help-topic-link" data-topic="community-engagement">Community Engagement</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="help-category">
                                <div class="help-category-title">
                                    <svg class="help-category-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd"/>
                                    </svg>
                                    Troubleshooting
                                </div>
                                <ul class="help-topics">
                                    <li class="help-topic-item">
                                        <a href="#common-issues" class="help-topic-link" data-topic="common-issues">Common Issues</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#data-sync" class="help-topic-link" data-topic="data-sync">Data Synchronization</a>
                                    </li>
                                    <li class="help-topic-item">
                                        <a href="#faq" class="help-topic-link" data-topic="faq">FAQ</a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>

                    <!-- Help Content -->
                    <div class="help-content">
                        <div class="breadcrumb">
                            <span>Help & Support</span>
                            <span class="breadcrumb-separator">â€¢</span>
                            <span id="current-topic">Platform Overview</span>
                        </div>

                        <div id="topic-overview" class="help-section active">
                            <div class="help-header">
                                <h1 class="help-title">Welcome to ACT Placemat</h1>
                                <p class="help-subtitle">Your comprehensive platform for community project management and impact storytelling</p>
                            </div>

                            <div class="help-section-content">
                                <p>ACT Placemat is designed to help you manage community-focused projects, track their impact through storytelling, and discover new opportunities. This guide will help you get the most out of the platform.</p>

                                <h3>What You Can Do</h3>
                                <ul>
                                    <li><strong>Manage Projects:</strong> Track project progress, revenue, and milestones</li>
                                    <li><strong>Collect Stories:</strong> Gather community impact stories and feedback</li>
                                    <li><strong>Find Opportunities:</strong> Discover grants and partnerships</li>
                                    <li><strong>Visualize Data:</strong> See your projects on interactive maps and dashboards</li>
                                    <li><strong>Measure Impact:</strong> Understand the real-world effects of your work</li>
                                </ul>

                                <h3>Platform Features</h3>
                                <div class="step-list">
                                    <div class="step-item">
                                        <div class="step-title">Dashboard Overview</div>
                                        <div class="step-description">Get a quick snapshot of all your projects, revenue, and recent activity from the main dashboard.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Project Management</div>
                                        <div class="step-description">Track projects from ideation through completion with real-time data from Notion.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Story Integration</div>
                                        <div class="step-description">Connect community stories to projects for comprehensive impact measurement.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Geographic Visualization</div>
                                        <div class="step-description">See where your projects are making an impact across Australia.</div>
                                    </div>
                                </div>

                                <div class="tip-box">
                                    <div class="tip-title">
                                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                        </svg>
                                        Pro Tip
                                    </div>
                                    <div class="tip-content">Start by exploring the Dashboard to get familiar with your data, then dive into specific sections like Projects or Map view.</div>
                                </div>
                            </div>
                        </div>

                        <div id="topic-creating-projects" class="help-section hidden">
                            <h2 class="help-section-title">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                                </svg>
                                Creating and Managing Projects
                            </h2>
                            <div class="help-section-content">
                                <p>Projects are managed through Notion integration. All project data syncs automatically between Notion and the ACT Placemat platform.</p>

                                <h3>Project Creation Process</h3>
                                <div class="step-list">
                                    <div class="step-item">
                                        <div class="step-title">Open Notion Database</div>
                                        <div class="step-description">Navigate to your ACT Placemat projects database in Notion.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Create New Project</div>
                                        <div class="step-description">Click "New" to create a project entry with all required fields.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Fill Required Information</div>
                                        <div class="step-description">Complete Name, Status, Location, and revenue fields for proper tracking.</div>
                                    </div>
                                    
                                    <div class="step-item">
                                        <div class="step-title">Sync to Platform</div>
                                        <div class="step-description">Your project will appear in ACT Placemat within minutes of creation.</div>
                                    </div>
                                </div>

                                <h3>Required Project Fields</h3>
                                <ul>
                                    <li><strong>Name:</strong> Clear, descriptive project title</li>
                                    <li><strong>Status:</strong> Current phase (Ideation, Planning, Active, Completed)</li>
                                    <li><strong>State:</strong> Australian state or territory</li>
                                    <li><strong>Revenue Actual:</strong> Confirmed funding received</li>
                                    <li><strong>Revenue Potential:</strong> Possible future funding</li>
                                </ul>
                            </div>
                        </div>

                        <div id="topic-faq" class="help-section hidden">
                            <h2 class="help-section-title">
                                <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                </svg>
                                Frequently Asked Questions
                            </h2>
                            <div class="help-section-content">
                                <div class="faq-item">
                                    <div class="faq-question" onclick="toggleFaq(this)">
                                        How do I add a new project to the platform?
                                        <svg class="faq-toggle" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div class="faq-answer">
                                        Projects are created in Notion and automatically sync to ACT Placemat. Create a new entry in your projects database with all required fields, and it will appear in the platform within a few minutes.
                                    </div>
                                </div>

                                <div class="faq-item">
                                    <div class="faq-question" onclick="toggleFaq(this)">
                                        Why isn't my project showing up on the map?
                                        <svg class="faq-toggle" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div class="faq-answer">
                                        Make sure your project has a valid "State" field filled in Notion. Projects without location data will appear in the "Unknown" category and may not display on the geographic map.
                                    </div>
                                </div>

                                <div class="faq-item">
                                    <div class="faq-question" onclick="toggleFaq(this)">
                                        How do stories connect to projects?
                                        <svg class="faq-toggle" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div class="faq-answer">
                                        Stories are linked to projects by name matching between Airtable and Notion. The system automatically finds stories that reference project names and displays them in the project cards.
                                    </div>
                                </div>

                                <div class="faq-item">
                                    <div class="faq-question" onclick="toggleFaq(this)">
                                        Can I export project data?
                                        <svg class="faq-toggle" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div class="faq-answer">
                                        Yes! You can export data directly from Notion, or use the export features in the Analytics section to generate reports and visualizations.
                                    </div>
                                </div>

                                <div class="faq-item">
                                    <div class="faq-question" onclick="toggleFaq(this)">
                                        How often does data sync between systems?
                                        <svg class="faq-toggle" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                    <div class="faq-answer">
                                        Data syncs in real-time when you refresh the page or navigate between sections. The platform fetches the latest data from Notion and Airtable on each page load.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Support Section -->
                        <div class="contact-card">
                            <h3 class="contact-title">Need More Help?</h3>
                            <p class="contact-description">If you can't find what you're looking for, our support team is here to help.</p>
                            
                            <div class="contact-methods">
                                <a href="mailto:support@actplacemat.org" class="contact-method">
                                    <svg class="contact-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                                    </svg>
                                    Email Support
                                </a>
                                
                                <a href="/docs" class="contact-method">
                                    <svg class="contact-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"/>
                                    </svg>
                                    Documentation
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="modern-nav.js"></script>
    <script>
        function initHelp() {
            setupHelpNavigation();
            setupHelpSearch();
        }

        function setupHelpNavigation() {
            document.addEventListener('click', (e) => {
                if (e.target.matches('.help-topic-link')) {
                    e.preventDefault();
                    const topicId = e.target.getAttribute('data-topic');
                    showTopic(topicId);
                    
                    // Update active nav link
                    document.querySelectorAll('.help-topic-link').forEach(link => {
                        link.classList.remove('active');
                    });
                    e.target.classList.add('active');
                    
                    // Update breadcrumb
                    document.getElementById('current-topic').textContent = e.target.textContent;
                }
            });
        }

        function showTopic(topicId) {
            // Hide all topics
            document.querySelectorAll('.help-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show target topic
            const targetTopic = document.getElementById(`topic-${topicId}`);
            if (targetTopic) {
                targetTopic.classList.remove('hidden');
            }
        }

        function setupHelpSearch() {
            const searchBox = document.getElementById('help-search');
            searchBox.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                const topicLinks = document.querySelectorAll('.help-topic-link');
                
                topicLinks.forEach(link => {
                    const text = link.textContent.toLowerCase();
                    const topic = link.getAttribute('data-topic');
                    const content = document.getElementById(`topic-${topic}`)?.textContent.toLowerCase() || '';
                    
                    if (text.includes(query) || content.includes(query)) {
                        link.parentElement.style.display = 'block';
                    } else {
                        link.parentElement.style.display = query ? 'none' : 'block';
                    }
                });
            });
        }

        function toggleFaq(element) {
            const faqItem = element.parentElement;
            const answer = faqItem.querySelector('.faq-answer');
            
            faqItem.classList.toggle('open');
            answer.classList.toggle('open');
        }

        function printHelp() {
            window.print();
        }

        function contactSupport() {
            window.location.href = 'mailto:support@actplacemat.org?subject=ACT Placemat Support Request';
        }

        // Initialize help system when DOM is loaded
        document.addEventListener('DOMContentLoaded', initHelp);
    </script>
</body>
</html>