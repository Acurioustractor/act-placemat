<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACT Opportunities Pipeline</title>
    <link rel="stylesheet" href="shared-styles.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.4;
        }
        
        .header {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 5px;
        }
        
        .header p {
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .pipeline-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stage-filter {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        
        .stage-filter.active {
            background: #2196F3;
            color: white;
            border-color: #2196F3;
        }
        
        .stage-filter:hover {
            border-color: #2196F3;
        }
        
        .opportunities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }
        
        .opportunity-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-left: 4px solid #e0e0e0;
        }
        
        .opportunity-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .opportunity-card.discovery { border-left-color: #FF9800; }
        .opportunity-card.qualification { border-left-color: #2196F3; }
        .opportunity-card.proposal { border-left-color: #9C27B0; }
        .opportunity-card.negotiation { border-left-color: #F44336; }
        .opportunity-card.closed-won { border-left-color: #4CAF50; }
        .opportunity-card.closed-lost { border-left-color: #757575; }
        
        .opportunity-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .opportunity-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .organization {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .stage-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .stage-discovery { background: #FFF3E0; color: #E65100; }
        .stage-qualification { background: #E3F2FD; color: #0D47A1; }
        .stage-proposal { background: #F3E5F5; color: #4A148C; }
        .stage-negotiation { background: #FFEBEE; color: #B71C1C; }
        .stage-closed-won { background: #E8F5E8; color: #1B5E20; }
        .stage-closed-lost { background: #F5F5F5; color: #424242; }
        
        .revenue-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .revenue-amount {
            font-size: 1.2em;
            font-weight: bold;
            color: #2196F3;
        }
        
        .probability {
            font-size: 0.9em;
            color: #666;
        }
        
        .opportunity-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .artifacts {
            margin-bottom: 15px;
        }
        
        .artifacts-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }
        
        .artifact-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .artifact {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 8px;
            background: #e3f2fd;
            border-radius: 4px;
            font-size: 0.8em;
            text-decoration: none;
            color: #1565c0;
            transition: background 0.2s;
        }
        
        .artifact:hover {
            background: #bbdefb;
        }
        
        .artifact-icon {
            width: 12px;
            height: 12px;
        }
        
        .timeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 0.9em;
            color: #666;
        }
        
        .next-action {
            font-weight: bold;
            color: #2196F3;
        }
        
        .contact-info {
            margin-top: 10px;
            padding: 8px;
            background: #f0f7ff;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .add-opportunity {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
            transition: all 0.3s ease;
        }
        
        .add-opportunity:hover {
            background: #1976D2;
            transform: scale(1.1);
        }
        
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #2196F3;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .opportunities-grid {
                grid-template-columns: 1fr;
            }
            
            .pipeline-nav {
                flex-wrap: wrap;
            }
            
            .revenue-info {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
    <script src="menu-bar.js"></script>
</head>
<body>
    <div class="act-content">
        <div class="act-card">
            <div class="act-card-header">
        <h1>üéØ ACT Opportunities Pipeline</h1>
        <p>Track funding opportunities, partnerships, and revenue streams</p>
    </div>
    
    <div class="container">
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value" id="totalOpportunities">0</div>
                <div class="stat-label">Total Opportunities</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalRevenue">$0</div>
                <div class="stat-label">Potential Revenue</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="weightedRevenue">$0</div>
                <div class="stat-label">Weighted Revenue</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeOpportunities">0</div>
                <div class="stat-label">Active Opportunities</div>
            </div>
        </div>
        
        <div class="pipeline-nav">
            <div class="stage-filter active" data-stage="all">All Stages</div>
            <div class="stage-filter" data-stage="discovery">üîç Discovery</div>
            <div class="stage-filter" data-stage="qualification">üìã Qualification</div>
            <div class="stage-filter" data-stage="proposal">üìÑ Proposal</div>
            <div class="stage-filter" data-stage="negotiation">ü§ù Negotiation</div>
            <div class="stage-filter" data-stage="closed-won">‚úÖ Closed Won</div>
            <div class="stage-filter" data-stage="closed-lost">‚ùå Closed Lost</div>
        </div>
        
        <div class="opportunities-grid" id="opportunitiesGrid">
            <!-- Opportunities will be populated by JavaScript -->
        </div>
    </div>
    
    <button class="add-opportunity" onclick="addNewOpportunity()">+</button>
    
    <script>
        // Sample opportunities data - this would come from your Notion database
        const opportunities = [
            {
                id: 1,
                title: "SMART Recovery National Expansion",
                organization: "SMART Recovery Australia",
                stage: "proposal",
                revenue: 200000,
                probability: 75,
                description: "Scaling SMART Recovery meetings nationally with digital platform integration and GP referral pathways.",
                artifacts: [
                    { type: "notion", name: "Project Brief", url: "https://notion.so/smart-recovery-brief" },
                    { type: "pdf", name: "One Pager", url: "/artifacts/smart-recovery-onepager.pdf" },
                    { type: "website", name: "Case Studies", url: "https://smartrecovery.org.au/case-studies" }
                ],
                nextAction: "Present to board - July 25",
                contact: "Dr. Sarah Mitchell, CEO",
                deadline: "2025-08-15",
                lastUpdated: "2025-07-15"
            },
            {
                id: 2,
                title: "Indigenous Data Sovereignty Platform",
                organization: "Australian Human Rights Commission",
                stage: "qualification",
                revenue: 150000,
                probability: 60,
                description: "Building platform for Indigenous communities to maintain control over their data and digital narratives.",
                artifacts: [
                    { type: "notion", name: "Technical Spec", url: "https://notion.so/indigenous-data-spec" },
                    { type: "pdf", name: "Capability Statement", url: "/artifacts/data-sovereignty-capability.pdf" }
                ],
                nextAction: "Technical workshop - July 22",
                contact: "James Wilson, Digital Rights Lead",
                deadline: "2025-09-01",
                lastUpdated: "2025-07-14"
            },
            {
                id: 3,
                title: "Youth Justice Innovation Fund",
                organization: "Queensland Government",
                stage: "discovery",
                revenue: 500000,
                probability: 40,
                description: "Multi-year funding for innovative approaches to youth justice, focusing on community-led solutions.",
                artifacts: [
                    { type: "website", name: "Program Guidelines", url: "https://qld.gov.au/youth-justice-innovation" },
                    { type: "notion", name: "Research Notes", url: "https://notion.so/youth-justice-research" }
                ],
                nextAction: "Stakeholder mapping - July 30",
                contact: "Maria Santos, Program Director",
                deadline: "2025-10-15",
                lastUpdated: "2025-07-12"
            },
            {
                id: 4,
                title: "Empathy Ledger Commercial License",
                organization: "Orange Sky Australia",
                stage: "negotiation",
                revenue: 75000,
                probability: 85,
                description: "Licensing Empathy Ledger platform for Orange Sky's national storytelling program.",
                artifacts: [
                    { type: "pdf", name: "License Agreement", url: "/artifacts/empathy-ledger-license.pdf" },
                    { type: "notion", name: "Implementation Plan", url: "https://notion.so/empathy-ledger-implementation" },
                    { type: "website", name: "Demo Site", url: "https://demo.empathyledger.org" }
                ],
                nextAction: "Contract review - July 18",
                contact: "Luke Batty, Head of Impact",
                deadline: "2025-07-31",
                lastUpdated: "2025-07-16"
            },
            {
                id: 5,
                title: "Community Ownership Models Research",
                organization: "University of Queensland",
                stage: "closed-won",
                revenue: 120000,
                probability: 100,
                description: "Research partnership to develop frameworks for community ownership of digital platforms.",
                artifacts: [
                    { type: "pdf", name: "Signed Contract", url: "/artifacts/uq-research-contract.pdf" },
                    { type: "notion", name: "Project Plan", url: "https://notion.so/uq-research-plan" }
                ],
                nextAction: "Project kickoff - July 20",
                contact: "Prof. David Chen, Business School",
                deadline: "2025-12-31",
                lastUpdated: "2025-07-10"
            },
            {
                id: 6,
                title: "Digital Commons Infrastructure Grant",
                organization: "Mozilla Foundation",
                stage: "closed-lost",
                revenue: 300000,
                probability: 0,
                description: "Grant application for building community-owned digital infrastructure platform.",
                artifacts: [
                    { type: "pdf", name: "Grant Application", url: "/artifacts/mozilla-grant-application.pdf" },
                    { type: "notion", name: "Feedback Notes", url: "https://notion.so/mozilla-feedback" }
                ],
                nextAction: "Reapply next cycle - Dec 2025",
                contact: "Alex Rivera, Program Officer",
                deadline: "2025-06-30",
                lastUpdated: "2025-07-01"
            }
        ];
        
        let filteredOpportunities = [...opportunities];
        let activeStage = 'all';
        
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-AU', {
                style: 'currency',
                currency: 'AUD',
                minimumFractionDigits: 0
            }).format(amount);
        }
        
        function getArtifactIcon(type) {
            const icons = {
                notion: 'üìù',
                pdf: 'üìÑ',
                website: 'üåê',
                video: 'üé•',
                presentation: 'üìä'
            };
            return icons[type] || 'üìé';
        }
        
        function createOpportunityHTML(opportunity) {
            const weightedRevenue = Math.round(opportunity.revenue * (opportunity.probability / 100));
            
            return `
                <div class="opportunity-card ${opportunity.stage}">
                    <div class="opportunity-header">
                        <div>
                            <div class="opportunity-title">${opportunity.title}</div>
                            <div class="organization">${opportunity.organization}</div>
                        </div>
                        <div class="stage-badge stage-${opportunity.stage}">
                            ${opportunity.stage.replace('-', ' ')}
                        </div>
                    </div>
                    
                    <div class="revenue-info">
                        <div>
                            <div class="revenue-amount">${formatCurrency(opportunity.revenue)}</div>
                            <div class="probability">${opportunity.probability}% probability</div>
                        </div>
                        <div>
                            <div style="font-size: 0.9em; color: #666;">Weighted:</div>
                            <div style="font-weight: bold; color: #4CAF50;">${formatCurrency(weightedRevenue)}</div>
                        </div>
                    </div>
                    
                    <div class="opportunity-description">
                        ${opportunity.description}
                    </div>
                    
                    <div class="artifacts">
                        <div class="artifacts-title">üìé Supporting Materials</div>
                        <div class="artifact-list">
                            ${opportunity.artifacts.map(artifact => `
                                <a href="${artifact.url}" class="artifact" target="_blank">
                                    <span class="artifact-icon">${getArtifactIcon(artifact.type)}</span>
                                    ${artifact.name}
                                </a>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="contact-info">
                        <strong>Contact:</strong> ${opportunity.contact}
                    </div>
                    
                    <div class="timeline">
                        <div class="next-action">${opportunity.nextAction}</div>
                        <div>Due: ${new Date(opportunity.deadline).toLocaleDateString()}</div>
                    </div>
                </div>
            `;
        }
        
        function renderOpportunities() {
            const grid = document.getElementById('opportunitiesGrid');
            
            if (filteredOpportunities.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666;">
                        <h3>No opportunities found</h3>
                        <p>Try adjusting your filters or add a new opportunity.</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = filteredOpportunities
                .map(opportunity => createOpportunityHTML(opportunity))
                .join('');
        }
        
        function updateStats() {
            const totalOpportunities = opportunities.length;
            const totalRevenue = opportunities.reduce((sum, opp) => sum + opp.revenue, 0);
            const weightedRevenue = opportunities.reduce((sum, opp) => 
                sum + (opp.revenue * (opp.probability / 100)), 0);
            const activeOpportunities = opportunities.filter(opp => 
                !['closed-won', 'closed-lost'].includes(opp.stage)).length;
            
            document.getElementById('totalOpportunities').textContent = totalOpportunities;
            document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('weightedRevenue').textContent = formatCurrency(weightedRevenue);
            document.getElementById('activeOpportunities').textContent = activeOpportunities;
        }
        
        function filterByStage(stage) {
            activeStage = stage;
            
            // Update active filter button
            document.querySelectorAll('.stage-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-stage="${stage}"]`).classList.add('active');
            
            // Filter opportunities
            if (stage === 'all') {
                filteredOpportunities = [...opportunities];
            } else {
                filteredOpportunities = opportunities.filter(opp => opp.stage === stage);
            }
            
            renderOpportunities();
        }
        
        function addNewOpportunity() {
            // This would open a form modal or redirect to a form page
            alert('Add New Opportunity form would open here.\n\nThis could integrate with your Notion database to create new opportunity records.');
        }
        
        // Event listeners
        document.querySelectorAll('.stage-filter').forEach(btn => {
            btn.addEventListener('click', (e) => {
                filterByStage(e.target.dataset.stage);
            });
        });
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            renderOpportunities();
        });
    </script>
</body>
</html>