# ACT Platform Backend Environment Template
# -----------------------------------------
# Copy this file to `.env` or `.env.local` and replace placeholder values with
# your real credentials. Keep the real file out of version control.

# === ENVIRONMENT ===
NODE_ENV=development

# === CORS SECURITY ===
# Comma-separated list of allowed origins (no spaces).
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# Example production configuration:
# ALLOWED_ORIGINS=https://actcommunity.org,https://dashboard.actcommunity.org

# === ZERO-TRUST AUTHENTICATION ===
JWT_SECRET=change-me-to-a-strong-random-secret
JWT_ISSUER=act-platform
JWT_AUDIENCE=act-api

# === API KEY MANAGEMENT ===
# Format: key:json-config
VALID_API_KEYS=dev-frontend-key:{"type":"development","permissions":["read","write"],"rateLimit":1000}

# === SECURITY MONITORING ===
DEBUG_CORS=true
DEBUG_AUTH=true
DEBUG_API_KEYS=false
DEBUG_JWT=false
DEBUG_PERFORMANCE=true
DEV_CORS_WARNINGS_ONLY=false
ENABLE_SECURITY_METRICS=true

# === DATABASE (Supabase) ===
SUPABASE_URL=https://YOUR_PROJECT.supabase.co
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY
SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY

# === AI INTEGRATIONS ===
NOTION_TOKEN=YOUR_NOTION_INTERNAL_INTEGRATION_TOKEN
OPENAI_API_KEY=YOUR_OPENAI_KEY
ANTHROPIC_API_KEY=YOUR_ANTHROPIC_KEY
PERPLEXITY_API_KEY=YOUR_PERPLEXITY_KEY

# === OPEN SOURCE AI (FREE - LOCAL) ===
# Ollama - Run local AI models (llama, qwen, deepseek)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b

# Perplexica - Self-hosted Perplexity alternative
PERPLEXICA_URL=http://localhost:3000
PERPLEXICA_API_URL=http://localhost:3001

# SearxNG - Privacy-focused search (optional)
SEARXNG_URL=http://localhost:8888

# === CLOUD AI (FREE TIERS - PRODUCTION) ===
# ‚≠ê RECOMMENDED FOR PRODUCTION - Both have generous free tiers

# Groq - Ultra-fast FREE AI (unlimited requests, rate limited)
# Get your key at: https://console.groq.com
GROQ_API_KEY=YOUR_GROQ_KEY

# Tavily - 1000 FREE searches/month for research
# Get your key at: https://tavily.com
TAVILY_API_KEY=YOUR_TAVILY_KEY

# SerpAPI - 100 free searches/month (optional backup)
SERPAPI_KEY=YOUR_SERPAPI_KEY

# === GOOGLE / GMAIL INTEGRATION ===
GMAIL_CLIENT_ID=YOUR_GMAIL_OAUTH_CLIENT_ID
GMAIL_CLIENT_SECRET=YOUR_GMAIL_OAUTH_CLIENT_SECRET
GOOGLE_CLIENT_ID=YOUR_GOOGLE_OAUTH_CLIENT_ID
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_OAUTH_CLIENT_SECRET

# === XERO FINANCIAL INTEGRATION ===
XERO_CLIENT_ID=YOUR_XERO_CLIENT_ID
XERO_CLIENT_SECRET=YOUR_XERO_CLIENT_SECRET
XERO_REDIRECT_URI=http://localhost:4000/api/xero/callback
XERO_TENANT_ID=YOUR_XERO_TENANT_ID
XERO_REFRESH_TOKEN=YOUR_XERO_REFRESH_TOKEN
XERO_ACCESS_TOKEN=YOUR_XERO_ACCESS_TOKEN
XERO_DEMO_MODE=false
XERO_WEBHOOK_KEY=YOUR_XERO_WEBHOOK_SIGNING_KEY

# === FINANCIAL AUTOMATION ===
FINANCIAL_AUTOMATION_ENABLED=true
FINANCIAL_POLICY_PATH=./core/config/financial-policy.yaml
SLACK_WEBHOOK_URL=YOUR_SLACK_WEBHOOK_URL_FOR_NOTIFICATIONS
THRIDAY_WEBHOOK_SECRET=YOUR_THRIDAY_WEBHOOK_SECRET
DEXT_WEBHOOK_SECRET=YOUR_DEXT_WEBHOOK_SECRET

# === NOTION DATABASE IDS ===
NOTION_PROJECTS_DATABASE_ID=YOUR_NOTION_PROJECTS_DB_ID
NOTION_ACTIONS_DATABASE_ID=YOUR_NOTION_ACTIONS_DB_ID
NOTION_PEOPLE_DATABASE_ID=YOUR_NOTION_PEOPLE_DB_ID
NOTION_ORGANIZATIONS_DATABASE_ID=YOUR_NOTION_ORGANIZATIONS_DB_ID
NOTION_OPPORTUNITIES_DATABASE_ID=YOUR_NOTION_OPPORTUNITIES_DB_ID
NOTION_ARTIFACTS_DATABASE_ID=YOUR_NOTION_ARTIFACTS_DB_ID
NOTION_ACTIVITIES_DATABASE_ID=YOUR_NOTION_ACTIVITIES_DB_ID
NOTION_STORIES_DATABASE_ID=YOUR_NOTION_STORIES_DB_ID
NOTION_PLACES_DATABASE_ID=YOUR_NOTION_PLACES_DB_ID

# === OPTIONAL SERVICES ===
# Redis / caching
# LIFEOS_REDIS_PORT=6379
# LIFEOS_REDIS_PASSWORD=
# REDIS_URL=redis://localhost:6379

# PostHog analytics
# POSTHOG_API_KEY=
# POSTHOG_HOST=https://app.posthog.com

# Kafka (if enabled)
# KAFKA_BROKERS=localhost:9092
KAFKAJS_NO_PARTITIONER_WARNING=1

# === PERFORMANCE TUNING ===
CACHE_TIMEOUT=300000
AUTO_REFRESH_INTERVAL=300000
MAX_API_RETRIES=3
API_RETRY_DELAY=1000

# === EMERGENCY CONTROLS (set only in production when needed) ===
# EMERGENCY_CORS_BYPASS_TOKEN=
